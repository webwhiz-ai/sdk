{"mappings":"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","sources":["<anon>","sdk.js"],"sourcesContent":["var $e2336bb84bb014dc$var$__WEBWHIZ__URL = $e2336bb84bb014dc$var$__WEBWHIZ__getWidgetURL();\nfunction $e2336bb84bb014dc$var$__WEBWHIZ__ready(fn) {\n    if (document.readyState !== \"loading\") {\n        fn();\n        return;\n    }\n    document.addEventListener(\"DOMContentLoaded\", fn);\n}\nconst $e2336bb84bb014dc$var$widgetStyle = `\n.webwhiz-widget {\n  position: fixed;\n  z-index: 9999999;\n  max-height: calc(100% - 30px);\n  right: 20px;\n  bottom: 20px;\n  min-width: 80px;\n  height: 80px;\n  width: 80px;\n  max-width: calc(100% - 40px);\n}\n.webwhiz-widget.wb-align-left {\n  left: 0;\n  right: auto;\n}\n.webwhiz-widget.wb-expand {\n  width: 416px;\n  height: 610px;\n  min-width: 370px;\n}\n.webwhiz-widget.wb-maximize {\n  width: 50%;\n  height: calc(100% - 30px)\n}\n@media only screen and (device-width: 768px),\n       only screen and (max-width: 768px){\n  .webwhiz-widget.wb-maximize {\n    width: 100%;\n    height: 100%;\n  }\n  .webwhiz-widget {\n    right: 0;\n    bottom: 0;\n  }\n  .webwhiz-widget.wb-expand {\n    width: 100%;\n    height: 100%;\n    min-width: 0;\n    left: 0;\n    right: 10px;\n    bottom: 10px;\n    top: 0;\n    max-width: 100%;\n    max-height: 100%;\n  }\n}\n`;\nfunction $e2336bb84bb014dc$var$__WEBWHIZ__addIframe() {\n    var ifrm = document.createElement(\"iframe\");\n    const kbId = $e2336bb84bb014dc$var$__WEBWHIZ__getChatbotId();\n    ifrm.setAttribute(\"class\", \"webwhiz-widget\");\n    ifrm.setAttribute(\"id\", \"webwhiz-widget\");\n    ifrm.setAttribute(\"data-powered-by\", \"https://www.webwhiz.ai/\");\n    ifrm.setAttribute(\"frameborder\", \"0\");\n    const container = document.getElementById(\"__webwhizSdk__\").getAttribute(\"container\");\n    if (container) {\n        const $container = document.querySelector(container);\n        if ($container) $container.appendChild(ifrm);\n    } else {\n        var styleSheet = document.createElement(\"style\");\n        styleSheet.innerText = $e2336bb84bb014dc$var$widgetStyle;\n        document.head.appendChild(styleSheet);\n        document.body.appendChild(ifrm);\n    }\n    const baseUrl = $e2336bb84bb014dc$var$__WEBWHIZ__getBaseURL();\n    ifrm.setAttribute(\"src\", $e2336bb84bb014dc$var$__WEBWHIZ__URL + \"?kbId=\" + kbId + \"&baseUrl=\" + baseUrl);\n    return ifrm;\n}\nfunction $e2336bb84bb014dc$var$__WEBWHIZ__getEventHandler(ifrm) {\n    const iframe = document.getElementById(\"webwhiz-widget\");\n    function webWhizEventHandler(e) {\n        if (e.data === \"webwhiz:widget_expand\") iframe.classList.add(\"wb-expand\");\n        else if (e.data === \"webwhiz:widget_collapse\") setTimeout(()=>{\n            iframe.classList.remove(\"wb-expand\", \"wb-maximize\");\n        }, 350);\n        else if (e.data === \"webwhiz:widget_maximize\") iframe.classList.add(\"wb-maximize\");\n        else if (e.data === \"webwhiz:widget_minimize\") iframe.classList.remove(\"wb-maximize\");\n        else if (e.data === \"webwhiz:widget_align_left\") iframe.classList.add(\"wb-align-left\");\n        else if (e.data === \"webwhiz:widget_clear_history\") {\n            localStorage.removeItem(\"chatHistory\");\n            localStorage.removeItem(\"sessionId\");\n        } else if (e.data === \"webwhiz:request_meta_data\") {\n            const container = document.getElementById(\"__webwhizSdk__\").getAttribute(\"container\");\n            e.source.postMessage({\n                messageType: \"webwhiz:recieve_meta_data\",\n                url: window.location.href,\n                container: container\n            }, \"*\");\n        } else if (e.data === \"webwhiz:request_chat_data\") {\n            const chatHistoryData = localStorage.getItem(\"chatHistory\");\n            const chatHistory = JSON.parse(chatHistoryData || \"[]\");\n            e.source.postMessage({\n                messageType: \"webwhiz:recieve_chat_data\",\n                chatHistory: chatHistory\n            }, \"*\");\n        } else if (e.data === \"webwhiz:request_session_id\") {\n            const sessionId = localStorage.getItem(\"sessionId\");\n            e.source.postMessage({\n                messageType: \"webwhiz:recieve_session_id\",\n                sessionId: sessionId\n            }, \"*\");\n        } else if (e.data && e.data.messageType === \"webwhiz:recieve_new_message\") {\n            const chatHistoryData = localStorage.getItem(\"chatHistory\");\n            let chatHistory = JSON.parse(chatHistoryData || \"[]\");\n            const msg = e.data.message || [];\n            chatHistory = [\n                ...chatHistory,\n                ...msg\n            ];\n            localStorage.setItem(\"chatHistory\", JSON.stringify(chatHistory));\n        } else if (e.data && e.data.messageType === \"webwhiz:recieve_new_session_id\") localStorage.setItem(\"sessionId\", e.data.sessionId);\n    }\n    return webWhizEventHandler;\n}\nfunction $e2336bb84bb014dc$var$__WEBWHIZ__addEventListeners(ifrm) {\n    window.onmessage = $e2336bb84bb014dc$var$__WEBWHIZ__getEventHandler(ifrm);\n}\nfunction $e2336bb84bb014dc$var$__WEBWHIZ__getChatbotId() {\n    const chatbotId = document.getElementById(\"__webwhizSdk__\").getAttribute(\"chatbotId\");\n    return chatbotId;\n}\nfunction $e2336bb84bb014dc$var$__WEBWHIZ__getWidgetURL() {\n    const baseURL = document.getElementById(\"__webwhizSdk__\").getAttribute(\"widgetUrl\");\n    return baseURL || \"https://widget.webwhiz.ai/\";\n}\nfunction $e2336bb84bb014dc$var$__WEBWHIZ__getBaseURL() {\n    const baseURL = document.getElementById(\"__webwhizSdk__\").getAttribute(\"baseUrl\");\n    return baseURL || \"https://api.webwhiz.ai\";\n}\n$e2336bb84bb014dc$var$__WEBWHIZ__ready(()=>{\n    setTimeout(()=>{\n        var ifrm = $e2336bb84bb014dc$var$__WEBWHIZ__addIframe();\n        $e2336bb84bb014dc$var$__WEBWHIZ__addEventListeners(ifrm);\n    }, 1000);\n});\n\n\n//# sourceMappingURL=sdk.js.map\n","var __WEBWHIZ__URL = __WEBWHIZ__getWidgetURL();\n\nfunction __WEBWHIZ__ready(fn) {\n  if (document.readyState !== \"loading\") {\n    fn();\n    return;\n  }\n  document.addEventListener(\"DOMContentLoaded\", fn);\n}\n\n\nconst widgetStyle = `\n.webwhiz-widget {\n  position: fixed;\n  z-index: 9999999;\n  max-height: calc(100% - 30px);\n  right: 20px;\n  bottom: 20px;\n  min-width: 80px;\n  height: 80px;\n  width: 80px;\n  max-width: calc(100% - 40px);\n}\n.webwhiz-widget.wb-align-left {\n  left: 0;\n  right: auto;\n}\n.webwhiz-widget.wb-expand {\n  width: 416px;\n  height: 610px;\n  min-width: 370px;\n}\n.webwhiz-widget.wb-maximize {\n  width: 50%;\n  height: calc(100% - 30px)\n}\n@media only screen and (device-width: 768px),\n       only screen and (max-width: 768px){\n  .webwhiz-widget.wb-maximize {\n    width: 100%;\n    height: 100%;\n  }\n  .webwhiz-widget {\n    right: 0;\n    bottom: 0;\n  }\n  .webwhiz-widget.wb-expand {\n    width: 100%;\n    height: 100%;\n    min-width: 0;\n    left: 0;\n    right: 10px;\n    bottom: 10px;\n    top: 0;\n    max-width: 100%;\n    max-height: 100%;\n  }\n}\n`\n\n\nfunction __WEBWHIZ__addIframe() {\n  var ifrm = document.createElement(\"iframe\");\n  const kbId = __WEBWHIZ__getChatbotId();\n  ifrm.setAttribute(\"class\", \"webwhiz-widget\");\n  ifrm.setAttribute(\"id\", \"webwhiz-widget\");\n  ifrm.setAttribute(\"data-powered-by\", \"https://www.webwhiz.ai/\");\n  ifrm.setAttribute(\"frameborder\", \"0\");\n\n  const container = document.getElementById(\"__webwhizSdk__\").getAttribute('container');\n\n\n  if (container) {\n    const $container = document.querySelector(container);\n    if ($container) {\n      $container.appendChild(ifrm);\n    }\n  } else {\n    var styleSheet = document.createElement('style');\n    styleSheet.innerText = widgetStyle;\n    document.head.appendChild(styleSheet);\n    document.body.appendChild(ifrm);\n  }\n\n  const baseUrl = __WEBWHIZ__getBaseURL();\n  ifrm.setAttribute(\"src\", __WEBWHIZ__URL + '?kbId=' + kbId +'&baseUrl=' + baseUrl);\n  return ifrm;\n}\n\nfunction __WEBWHIZ__getEventHandler(ifrm) {\n  const iframe = document.getElementById(\"webwhiz-widget\");\n  function webWhizEventHandler(e) {\n    if (e.data === \"webwhiz:widget_expand\") {\n      iframe.classList.add(\"wb-expand\");\n    } else if (e.data === \"webwhiz:widget_collapse\") {\n      setTimeout(() => {\n        iframe.classList.remove(\"wb-expand\", \"wb-maximize\");\n      }, 350);\n    } else if (e.data === \"webwhiz:widget_maximize\") {\n      iframe.classList.add(\"wb-maximize\");\n    } else if (e.data === \"webwhiz:widget_minimize\") {\n      iframe.classList.remove(\"wb-maximize\");\n    } else if (e.data === \"webwhiz:widget_align_left\") {\n      iframe.classList.add(\"wb-align-left\");\n    } else if (e.data === \"webwhiz:widget_clear_history\") {\n      localStorage.removeItem('chatHistory');\n      localStorage.removeItem('sessionId');\n    } else if (e.data === \"webwhiz:request_meta_data\") {\n      const container = document.getElementById(\"__webwhizSdk__\").getAttribute('container');\n      e.source.postMessage({ messageType: 'webwhiz:recieve_meta_data', url: window.location.href, container: container }, '*');\n    } else if (e.data === \"webwhiz:request_chat_data\") {\n      const chatHistoryData = localStorage.getItem(\"chatHistory\");\n      const chatHistory = JSON.parse(chatHistoryData || '[]');\n      e.source.postMessage({ messageType: 'webwhiz:recieve_chat_data', chatHistory: chatHistory }, '*');\n    } else if (e.data === \"webwhiz:request_session_id\") {\n      const sessionId = localStorage.getItem(\"sessionId\");\n      e.source.postMessage({ messageType: 'webwhiz:recieve_session_id', sessionId: sessionId }, '*');\n    } else if(e.data && e.data.messageType === 'webwhiz:recieve_new_message') {\n      const chatHistoryData = localStorage.getItem(\"chatHistory\");\n      let chatHistory = JSON.parse(chatHistoryData || '[]');\n      const msg = e.data.message || []\n      chatHistory = [...chatHistory, ...msg];\n      localStorage.setItem(\"chatHistory\", JSON.stringify(chatHistory));\n    } else if(e.data && e.data.messageType === 'webwhiz:recieve_new_session_id') {\n      localStorage.setItem(\"sessionId\", e.data.sessionId);\n    }\n  }\n\n  return webWhizEventHandler;\n}\n\nfunction __WEBWHIZ__addEventListeners(ifrm) {\n  window.onmessage = __WEBWHIZ__getEventHandler(ifrm);\n}\n\nfunction __WEBWHIZ__getChatbotId() {\n  const chatbotId = document.getElementById(\"__webwhizSdk__\").getAttribute('chatbotId');\n  return chatbotId;\n}\n\nfunction __WEBWHIZ__getWidgetURL() {\n  const baseURL = document.getElementById(\"__webwhizSdk__\").getAttribute('widgetUrl');\n  return baseURL || 'https://widget.webwhiz.ai/';\n}\n\nfunction __WEBWHIZ__getBaseURL() {\n  const baseURL = document.getElementById(\"__webwhizSdk__\").getAttribute('baseUrl');\n  return baseURL || 'https://api.webwhiz.ai';\n}\n\n__WEBWHIZ__ready(() => {\n  setTimeout(() => {\n    var ifrm = __WEBWHIZ__addIframe();\n    __WEBWHIZ__addEventListeners(ifrm);\n  }, 1000);\n});\n"],"names":["$e2336bb84bb014dc$var$__WEBWHIZ__URL","$e2336bb84bb014dc$var$__WEBWHIZ__getWidgetURL","baseURL","document","getElementById","getAttribute","$e2336bb84bb014dc$var$widgetStyle","$e2336bb84bb014dc$var$__WEBWHIZ__ready","fn","readyState","addEventListener","setTimeout","$e2336bb84bb014dc$var$__WEBWHIZ__addIframe","ifrm","createElement","kbId","$e2336bb84bb014dc$var$__WEBWHIZ__getChatbotId","chatbotId","setAttribute","container","$container","querySelector","appendChild","styleSheet","innerText","head","body","baseUrl","$e2336bb84bb014dc$var$__WEBWHIZ__getBaseURL","window","onmessage","$e2336bb84bb014dc$var$__WEBWHIZ__getEventHandler","iframe","e","data","classList","add","remove","localStorage","removeItem","source","postMessage","messageType","url","location","href","chatHistoryData","getItem","chatHistory","JSON","parse","sessionId","msg","message","setItem","stringify"],"version":3,"file":"sdk.js.map"}